name:ðŸ¤–AutoLabelPR

on:
pull_request:
types:[opened,edited,synchronize]

jobs:
label:
name:ðŸ·ï¸AutoLabel
runs-on:ubuntu-latest

steps:
-name:ðŸ“¥Checkout
uses:actions/checkout@v4

-name:ðŸ·ï¸Labelbyfilepaths
uses:actions/labeler@v5
with:
repo-token:${{secrets.GITHUB_TOKEN}}
configuration-path:.github/labeler.yml

-name:ðŸ·ï¸Labelbysize
uses:codelytv/pr-size-labeler@v1
with:
GITHUB_TOKEN:${{secrets.GITHUB_TOKEN}}
xs_label:'size/XS'
xs_max_size:10
s_label:'size/S'
s_max_size:100
m_label:'size/M'
m_max_size:500
l_label:'size/L'
l_max_size:1000
xl_label:'size/XL'
fail_if_xl:false

-name:ðŸ·ï¸LabelbyPRtitle
uses:actions/github-script@v7
with:
script:|
consttitle=context.payload.pull_request.title.toLowerCase();
constlabels=[];

if(title.includes('fix')||title.includes('bug')){
labels.push('bug');
}
if(title.includes('feat')||title.includes('feature')){
labels.push('enhancement');
}
if(title.includes('docs')||title.includes('documentation')){
labels.push('documentation');
}
if(title.includes('refactor')){
labels.push('refactoring');
}
if(title.includes('perf')||title.includes('performance')){
labels.push('performance');
}
if(title.includes('test')){
labels.push('tests');
}
if(title.includes('ci')||title.includes('cd')){
labels.push('ci/cd');
}
if(title.includes('breaking')||title.includes('!:')){
labels.push('breaking-change');
}

if(labels.length>0){
awaitgithub.rest.issues.addLabels({
owner:context.repo.owner,
repo:context.repo.repo,
issue_number:context.payload.pull_request.number,
labels:labels
});
}
