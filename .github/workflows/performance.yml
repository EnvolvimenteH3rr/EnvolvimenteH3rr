name:游늵PerformanceMonitoring

on:
push:
branches:[main]
pull_request:
branches:[main]
schedule:
-cron:'00**0'#Weekly

jobs:
lighthouse:
name:游댡LighthouseCI
runs-on:ubuntu-latest

steps:
-name:游닌Checkout
uses:actions/checkout@v4

-name:游닍SetupNode.js
uses:actions/setup-node@v4
with:
node-version:'20.x'

-name:游닌Installdependencies
run:npmci

-name:游끵勇뀩uild
run:npmrunbuild

-name:游Startserver
run:npmstart&
env:
CI:true

-name:游댡RunLighthouse
uses:treosh/lighthouse-ci-action@v11
with:
urls:|
http://localhost:3000
http://localhost:3000/about
uploadArtifacts:true
temporaryPublicStorage:true

-name:游눫CommentPR
if:github.event_name=='pull_request'
uses:actions/github-script@v7
with:
script:|
//Adicionel칩gicaparacomentarosresultadosdoLighthousenoPR

bundle-size:
name:游닍BundleSize
runs-on:ubuntu-latest

steps:
-name:游닌Checkout
uses:actions/checkout@v4

-name:游닍SetupNode.js
uses:actions/setup-node@v4
with:
node-version:'20.x'

-name:游닌Installdependencies
run:npmci

-name:游끵勇뀩uild
run:npmrunbuild

-name:游늵Analyzebundlesize
uses:andresz1/size-limit-action@v1
with:
github_token:${{secrets.GITHUB_TOKEN}}
skip_step:install

performance-tests:
name:丘멣erformanceTests
runs-on:ubuntu-latest

steps:
-name:游닌Checkout
uses:actions/checkout@v4

-name:游닍SetupNode.js
uses:actions/setup-node@v4
with:
node-version:'20.x'

-name:游닌Installdependencies
run:npmci

-name:丘Runperformancetests
run:npmruntest:performance

-name:游늵Uploadresults
uses:actions/upload-artifact@v4
with:
name:performance-results
path:performance-results/
